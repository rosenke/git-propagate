#!/bin/bash

# Purpose:	git-propagate_tags.bash
# Usage:	git-propagate_tags.bash
# Example:	git-propagate_tags.bash
# Responsible:	Stephan Rosenke <r01-571@r0s.de>
# License:	CC BY-SA 4.0
# Version:	2020-09-01
# Based on:	n/a

################################################################################
# set some user serviceable vars                                               #
################################################################################
# n/a

################################################################################
################################################################################
######################### DON'T MESS BEHIND THIS LINE ##########################
################################################################################
################################################################################

################################################################################
# set some non-user serviceable vars                                           #
################################################################################
# n/a

# unset LANG if you parse stdout-put of your commands for preventing problems
# with unanticipated languages
unset LANG

################################################################################
# define some functions                                                        #
################################################################################
# n/a

################################################################################
################################################################################
##################################### Main #####################################
################################################################################
################################################################################

# get remote repositories
repositories="$(git remote | sort -u)"

# iterate over repositories and branches and do the pushing
for i in ${repositories} ; do
 echo "*** Push tags to ${i}"
 git push "${i}" --tags
done

#cleanup
# n/a

################################################################################
##################################### EOF ######################################
################################################################################
